<%# app/views/layouts/application.html.erb %>

<!DOCTYPE html>
<html>
  <head>
    <title>宿題カメラ</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G3TRTB3H7R"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-G3TRTB3H7R');
    </script>
  </head>

  <body id="main-body" class="<%= user_signed_in? ? 'user-logged-in' : 'user-logged-out' %>">
    <% flash.each do |key, message| %>
      <% if key == 'alert' || key == 'error' %>
        <div class="flash-message <%= key %>"><%= message %></div>
      <% end %>
    <% end %>


    <%= yield %>
  </body>
</html>

<script>
var vh=window.innerHeight;
document.getElementById('main-body').style.height=vh+'px';
</script>

<style>
 #main-body {
  background-color: #F3F6FF;
 }

.flash-message {
  padding: 10px 0;
  margin: 0;
  background-color: #f44336; /* 赤色でエラーメッセージを表示 */
  color: white;
  text-align: center;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000; /* 他の要素より前面に表示 */
}

</style>