# README

This README would normally document whatever steps are necessary to get the
application up and running.

Things you may want to cover:

* Ruby version

* System dependencies

* Configuration

* Database creation

* Database initialization

* How to run the test suite

* Services (job queues, cache servers, search engines, etc.)

* Deployment instructions

* ...

・OSはMac
・質問の回答はGPT-4のAPIを使用
・サーバーは、ローカル環境で動かす
・開発言語はRuby(3.0.2)
・フレームワークはRuby on Rails(6.1.4)
・webpackerを使用している

-webアプリの概要
ユーザーはwebアプリ上に表示されているキャラクターに勉強に関する質問をすることができ、質問の回答を得ることができる。ユーザーの質問とその答えは一つの「カード」として扱われる。ユーザーはwebアプリ上にすでに存在するカードを検索することができる。ユーザーはカードに「いいね」を押したり、「ブックマークに登録」をしたりすることができる。

-webアプリのトップページ
・背景に企業のロゴを一つだけ表示する
  →企業のロゴは背景に常に表示される
・企業ロゴとは別に、キャラクターの画像が一つ表示されている
  →キャラクターの画像は画面上を適当に動き回る
  →吹き出しを表示してユーザーにメッセージを表示する
・右上にマイページを表示するためのボタンを表示する
  →ログインしていないユーザーには、ユーザ登録/ログインボタンを表示する

-Webアプリの機能
  -フォームやページの表示
    -質問フォーム（オプション含む）
      →キャラクターをタップしたタイミングで「キャラクターに質問」「カードを検索」という選択肢をダイアログで表示する
      →ユーザーが「キャラクターに質問」をタップしたらフォームをダイアログで表示する
      →ダイアログが表示されている間は常に左下にキャラクターを表示し吹き出しでユーザーに（ダイアログの意味など）メッセージを表示する
    -検索フォーム
      →キャラクターをタップしたタイミングで「キャラクターに質問」「カードを検索」という選択肢をダイアログで表示する
      →ユーザーが「カードを検索」をタップしたらフォームをダイアログで表示する
      →ダイアログが表示されている間は常に左下にキャラクターを表示し吹き出しでユーザーに（ダイアログの意味など）メッセージを表示する
    -マイページ
      →トップ画面のマイページボタンをタップしたタイミングで表示する
      →マイページには、アカウント名やメールアドレスを表示する行とパスワード再設定画面へボタンを表示するの行がある
      →上記の情報の下にユーザーが過去にした質問カードと、いいね、ブックマークしたカードそれぞれ一覧で表示する
      →「自分のカード」「いいねしたカード」「ブックマークしたカード」のそれぞれの一覧画面はタブで変更する
	-質問機能(非同期処理)
		・質問の仕方
      →質問の仕方は、入力フォームに手で文字を入力する方法と画像を読み込んで文字を入力する方法がある
      →質問をする時に様々なオプションを選択し、回答の仕方を設定することができる
    ・質問する際のオプションについて
      →質問の入力フォームの上に、「答えだけ」「解説も」「翻訳」「口語訳」「現代語訳」「要約」「添削」というオプションを設ける
      →選択されるオプションによってフォームを変更する場合は非同期で行う
      -「答えだけ」
        →このオプションを選択して質問をすると、キャラクターが質問の答えだけを最も簡潔に答えてくれる
      -「解説も」
        →このオプションを選択して質問をすると、キャラクターが質問の答えとわかりやすい解説を答えてくれる
      -「翻訳」
        →このオプションを選択して質問をすると、ユーザーが送信した質問内容を翻訳してくれる
        →翻訳する言語はユーザーが選択できる
        →言語の選択は例えば、「日本語」→「英語」のようにそれぞれ「入力する言語」→「出力する言語」で選択できる
        →このオプションが選択された時、言語設定を入力フォームの上、各オプションの下に表示する
      -「口語訳」
        →このオプションを選択して質問をすると、ユーザーが送信した質問内容を口語訳してくれる
      -「現代語訳」
        →このオプションを選択して質問をすると、ユーザーが送信した質問内容を現代語訳してくれる
      -「要約」
        →このオプションを選択して質問をすると、ユーザーが送信した質問内容を要約してくれます
        →このオプションが選択された時、「要約する文字数を設定」「要約する文字数は適当」というオプションを表示する
        →「要約する文字数を設定」が選択された時、要約の文字数を設定できる入力欄を表示する（「入力欄」字以内）
        →「要約する文字数は適当」が選択された時、要約する文字数は適当になる（デフォルトでは「適当」を選択）
      -「添削」
        →このオプションを選択して質問をすると、質問内容を添削して改善案を提示してくれる
    ・画像の読み込み方法
      →質問フォームを開き、入力欄の上の「画像で入力」を押すと「写真を選択」「カメラで撮影」の選択肢が出る
      →「写真を選択」が選択されたら写真フォルダを開きユーザーに写真を一枚だけ選択させる
      →「カメラで撮影」が選択されたらカメラを起動しユーザーに写真を撮影させる
      →写真の選択が完了したら画像をプレビューで表示してユーザーに確認を求める
      →プレビューダイアログで「読み込む」ボタンが押させると画像が読み込まれ、質問フォームの入力欄に出力される
		・回答の生成
      →質問の回答はGPT-4のAPIを使用して生成する（現段階では仮にGPT-3.5のAPIを使用する）
  -検索機能(非同期処理)
    ・検索の仕方
      →カードの検索の仕方は、検索フォームに質問内容を入力して行う
      →検索はインクリメンタルサーチで行われる
      →入力中はカードが一覧で表示され都度更新される
      →ユーザー入力を終え、検索（送信）ボタンを押した際は類似検索を行い関連性の高いカード順でカードを表示する
  -「いいね」「ブックマーク」機能(非同期処理)
    ・ユーザーはwebアプリ上に存在するカードにいいねやブックマークをすることができる
    ・いいねやブックマークをしたカードはマイページでそれぞれ一覧で確認することができる
  -ユーザー認証機能(非同期処理)
    ・ユーザーはユーザー登録やログインをすることができる
      →ユーザー登録やログインをユーザーに求めるタイミングは、ユーザーがキャラクターに質問をしようとする時（送信ボタンを押すタイミング）
      →ユーザー登録やログインをしていないユーザーが質問を送信しようとすると認証画面に遷移する
      →ユーザー登録やログインが完了すると送信ボタンを押す前の画面に戻る
  -マイページ機能
    ・ユーザー情報を確認することができる
      →メールアドレスやアカウント名の確認、パスワードの再設定などを行うことができる
    ・自分が過去にした質問（カード）やいいね、ブックマークしたカードを一覧で確認できる
